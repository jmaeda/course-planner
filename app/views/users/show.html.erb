<% provide(:title, @user.name) %>
<div class="row">
  <div class ="col-sm-1">
  </div>
  <aside class="col-md-10">
    <h1><%= @user.name %></h1>
    <p><%= @user.email %></p>
    <br>
    <h3>Enrolled Courses</h3>

    <div id="user_enrollments">
      <% if @enrolled_courses.empty? %>
      
        <p>You are not enrolled in any courses!</p>

      <% else %>
        <% if @user == current_user %>
          <table class="table table-striped">
            <thead class="thead-inverse">
              <tr>
                <th>Name</th>
                <th>Code</th>
                <th>Description</th>
                <th colspan="3"></th>
              </tr>
            </thead>
            <tbody>
              <% @enrolled_courses.each do |course| %>
                <tr>
                  <td><%= course.name %></td>
                  <td><%= course.code %></td>
                  <td><%= course.description %></td>
                  <td><%= button_to 'Info', course, method: :get, class: 'btn .btn-success darkGrayButton' %></td>
                  <td><%= button_to 'Unenroll', enrollments_delete_path, {method: :delete, remote: true, params:{course_id: course, user_id: current_user}, class: 'btn .btn-success rbutton'} %></td>
                </tr>
              <% end %>
            </tbody>
          </table>
        <% else %>
          <table class="table table-striped">
            <thead class="thead-inverse">
              <tr>
                <th>Name</th>
                <th>Code</th>
                <th>Description</th>
                <th colspan="3"></th>
              </tr>
            </thead>
            <tbody>
              <% @enrolled_courses.each do |course| %>
                <tr>
                  <td><%= course.name %></td>
                  <td><%= course.code %></td>
                  <td><%= course.description %></td>
                  <td><%= button_to 'Info', course, method: :get, class: 'btn .btn-success darkGrayButton' %></td>
                </tr>
              <% end %>
            </tbody>
          </table>
        <% end %>
      
      <% end %>
    </div>
  
  </aside>
  <div class ="col-sm-1">
  </div>
</div>